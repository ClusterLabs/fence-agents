language: python
sudo: true

python:
  - "2.7"

addons:
  apt:
    packages:
    - python-pexpect
    - xsltproc
    - time

before_install:
  - wget http://cz.archive.ubuntu.com/ubuntu/pool/universe/o/openwsman/openwsman_2.2.3-0ubuntu4_amd64.deb
  - sudo dpkg -i openwsman_2.2.3-0ubuntu4_amd64.deb
  - pip install suds
  - pip install pycurl
  - pip install requests
  - pip install pexpect
  - pip install pywsman

script:
  - ./autogen.sh
  - ./configure
  - make
  - make check
  - PYTHONPATH=fence/agents/lib python fence/agents/lib/tests/test_fencing.py
